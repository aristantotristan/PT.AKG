<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Paraf Checklist - Stand Label & Robot</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
  padding: 20px;
}

h2 { text-align: center; }

.progress {
  background: #ddd;
  height: 10px;
  border-radius: 5px;
  margin-bottom: 20px;
}
.progress-bar {
  height: 10px;
  background: #003366;
  width: 33%;
  border-radius: 5px;
}

fieldset {
  background: #fff;
  border-radius: 8px;
  padding: 20px;
  border: 1px solid #ccc;
}

canvas {
  border: 1px dashed #999;
  width: 100%;
  height: 120px;
  touch-action: none;
}

button {
  padding: 12px;
  margin-top: 10px;
  width: 48%;
}

.nav {
  display: flex;
  justify-content: space-between;
}
</style>
</head>

<body>

<h2>Paraf Checklist</h2>

<div class="progress">
  <div class="progress-bar" id="progressBar"></div>
</div>

<!-- STEP 1 -->
<fieldset id="step1">
  <legend>Paraf Pelaksana (P1)</legend>
  <input placeholder="Nama Pelaksana"><br><br>
  <canvas id="sig1"></canvas>
</fieldset>

<!-- STEP 2 -->
<fieldset id="step2" style="display:none">
  <legend>Paraf Supervisor (P2)</legend>
  <input placeholder="Nama Supervisor"><br><br>
  <canvas id="sig2"></canvas>
</fieldset>

<!-- STEP 3 -->
<fieldset id="step3" style="display:none">
  <legend>Paraf Superintendent (P3)</legend>
  <input placeholder="Nama Superintendent"><br><br>
  <canvas id="sig3"></canvas>
</fieldset>

<div class="nav">
  <button onclick="prev()">⬅ Back</button>
  <button onclick="next()">Next ➡</button>
</div>

<script>
let step = 1;
const total = 3;

function showStep() {
  for (let i=1;i<=3;i++)
    document.getElementById("step"+i).style.display = "none";
  document.getElementById("step"+step).style.display = "block";
  document.getElementById("progressBar").style.width = (step/total*100)+"%";
}

function next() {
  if (step < total) step++;
  showStep();
}

function prev() {
  if (step > 1) step--;
  showStep();
}

showStep();

/* === SIGNATURE === */
function setupCanvas(id) {
  const canvas = document.getElementById(id);
  const ctx = canvas.getContext("2d");
  let drawing = false;

  canvas.addEventListener("pointerdown", e => {
    drawing = true;
    ctx.beginPath();
    ctx.moveTo(e.offsetX, e.offsetY);
  });

  canvas.addEventListener("pointermove", e => {
    if (!drawing) return;
    ctx.lineTo(e.offsetX, e.offsetY);
    ctx.stroke();
  });

  canvas.addEventListener("pointerup", () => drawing = false);
}

setupCanvas("sig1");
setupCanvas("sig2");
setupCanvas("sig3");
</script>

</body>
</html>
